<section id="add-product-form">

    <form [formGroup]="productForm" (ngSubmit)="submit()">

      <label for="product-name">Nombre del producto</label>
      <input type="text" id="product-name" formControlName="name" placeholder="Harina">

      @if(productForm.get("name")?.hasError('minlength') && productForm.get("name")?.dirty){
        <small class="error-msg">El nombre del producto debe contener como mínimo 3 caracteres</small>
      }
      @if(productForm.get("name")?.hasError('maxlength') && productForm.get("name")?.dirty){
        <small class="error-msg">El nombre del producto debe contener como máximo 50 caracteres</small>
      }
      @if(productForm.get("name")?.hasError('required') && productForm.get("name")?.dirty){
        <small class="error-msg">El nombre del producto es obligatorio</small>
      }
      @if(success() && !modifiedProduct() && err()) {
        <p class="success" (click)="err.set(null)">{{ err() }}</p>
      } @else if (success() && modifiedProduct() && err()) {
        <p class="success" (click)="err.set(null)">{{ err() }}</p>
      } @else if (success() === false && err()) {
        <p class="failure" (click)="err.set(null)">{{err()}}</p>
      }

      @if(modifiedProduct()) {
        <label for="product-status">Estado</label>
        <select class="desplegable-estado" name="status" id="product-status" formControlName="status">
          <option [ngValue]="productStatusEnum.Enabled">Habilitado</option>
          <option [ngValue]="productStatusEnum.Disabled">Deshabilitado</option>
        </select>
      }

      <button type="submit" [disabled]="!productForm.valid">Cargar</button>

    </form>
</section>

